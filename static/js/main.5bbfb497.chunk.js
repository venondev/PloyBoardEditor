(this.webpackJsonpboardcreator=this.webpackJsonpboardcreator||[]).push([[0],{13:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(2),o=n.n(a),i=(n(13),n(14),n(3)),u=n(5),l=n(7),s="white",d="black",m={UP:"0deg",UP_RIGHT:"45deg",RIGHT:"90deg",DOWN_RIGHT:"135deg",DOWN:"180deg",DOWN_LEFT:"225deg",LEFT:"270deg",UP_LEFT:"315deg"},p=Object.values(m);var f=[[m.UP],[m.UP,m.DOWN],[m.UP_LEFT,m.UP_RIGHT],[m.UP,m.UP_LEFT],[m.UP,m.UP_RIGHT,m.UP_LEFT],[m.DOWN,m.UP_RIGHT,m.UP_LEFT],[m.DOWN,m.RIGHT,m.LEFT],[m.UP_RIGHT,m.DOWN_RIGHT,m.DOWN_LEFT,m.UP_LEFT]],E=function(e,t){var n=function(t,n,r,c){return e.map((function(e,a){return e.map((function(e,o){return n===a&&t===o?{dirs:r,isWhite:c}:e}))}))};switch(t.type){case"FIELD_CLICK":var r;return(null===(r=e[t.y][t.x])||void 0===r?void 0:r.dirs)?n(t.x,t.y,e[t.y][t.x].dirs.map((function(e){return p[(p.indexOf(e)+1)%p.length]})),t.isWhite):n(t.x,t.y,f[t.currentToolIdx],t.isWhite);case"FIELD_ERASE":return n(t.x,t.y,void 0,!1);default:return e}},b=function(e){var t=e.dirs,n=void 0===t?[]:t,r=e.isWhite,a=e.isSelected,o=e.onClick;return c.a.createElement("div",{onClick:o,style:{background:r?s:d},className:"item ".concat(!n.length&&"empty"," ").concat(a?"selected":"")},n.map((function(e){return c.a.createElement("div",{key:"item"+e,style:{transform:"rotate(".concat(e,")")},className:"line"})})))},v=function(e){var t=e.isWhite,n=e.toggleColor,r=e.currentToolIdx,a=e.setTool,o=e.erase,i=e.setErase,u=e.copyToClip;return c.a.createElement("div",{onClick:function(){return o&&i(!1)},className:"toolbelt"},c.a.createElement("div",{onClick:function(){return n((function(e){return!e}))},className:"colorpicker ".concat(t?s:d)}),c.a.createElement("div",{style:{opacity:o?"0.2":"1"}},f.map((function(e,n){return c.a.createElement(b,{key:"toolbelt-".concat(e.join()),isSelected:n===r,onClick:function(){return a(n)},dirs:e,isWhite:t})}))),c.a.createElement("div",{onClick:function(){return i((function(e){return!e}))},className:"erase ".concat(o&&"active")}),c.a.createElement("button",{className:"copybtn",onClick:u},"Copy to clipboard"))},y=function(e){return e.reduce((function(t,n,r){return t+n.reduce((function(e,t,r){if(t&&t.dirs){var c=p.slice().reverse().map((function(e){return t.dirs.includes(e)?"1":"0"})).join(""),a=t.isWhite?"w":"b";return e+"".concat(a).concat(parseInt(c,2)).concat(r===n.length-1?"":",")}return e+(r===n.length-1?"":",")}),"")+(r===e.length-1?"":"/")}),"")};var T=function(){var e=Object(l.a)("board",y(Array.from(new Array(9),(function(){return Array.from(new Array(9),(function(){return{}}))})))),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(r.useReducer)(E,n.split("/").map((function(e){return e.split(",").map((function(e){return""===e?{}:{isWhite:"w"===e[0],dirs:(t=parseInt(e.substring(1),10),(t>>>0).toString(2)).split("").reverse().reduce((function(e,t,n){return"1"===t?e.concat(p[n]):e}),[])};var t}))}))),s=Object(i.a)(o,2),d=s[0],m=s[1],f=Object(r.useState)(!0),T=Object(i.a)(f,2),h=T[0],g=T[1],O=Object(r.useState)(0),I=Object(i.a)(O,2),C=I[0],_=I[1],N=Object(r.useState)(!1),W=Object(i.a)(N,2),k=W[0],j=W[1];Object(r.useEffect)((function(){a(y(d))}),[a,d]);return c.a.createElement("div",{className:"main"},c.a.createElement("div",null,c.a.createElement(v,{currentToolIdx:C,setTool:_,isWhite:h,toggleColor:g,erase:k,setErase:j,copyToClip:function(){!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(y(d)),Object(u.b)("Copied to clipboard")}})),c.a.createElement("div",null,d.map((function(e,t){return c.a.createElement("div",{className:"row",key:t},e.map((function(e,n){return c.a.createElement(b,Object.assign({onClick:function(){return m(k?{type:"FIELD_ERASE",x:n,y:t}:{type:"FIELD_CLICK",isWhite:h,currentToolIdx:C,x:n,y:t})},key:n},e))})))}))),c.a.createElement(u.a,null))};var h=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(T,null)))};o.a.render(c.a.createElement(h,null),document.getElementById("root")),console.log("v1.2")},8:function(e,t,n){e.exports=n(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.5bbfb497.chunk.js.map